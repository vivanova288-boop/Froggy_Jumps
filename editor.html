<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; padding: 15px; font-size: 13px; }
        .tabs { display: flex; border-bottom: 2px solid #6ab04c; margin-bottom: 10px; }
        .tab-btn { padding: 8px; border: none; background: #eee; cursor: pointer; flex: 1; font-weight: bold; }
        .tab-btn.active { background: #6ab04c; color: white; }
        .scroll-container { height: 250px; overflow-y: auto; background: white; padding: 15px; border: 1px solid #ddd; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        label { display: block; margin: 8px 0 4px; font-weight: bold; }
        input, textarea, select { width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        /* Поле с готовым кодом */
        #output-area { margin-top: 15px; background: #2f3542; padding: 10px; border-radius: 8px; color: #fff; }
        #resultCode { width: 100%; height: 80px; background: #1e222b; color: #a2ee9d; border: none; font-family: monospace; font-size: 10px; margin-top: 5px; }
        .copy-btn { width: 100%; padding: 10px; background: #ff4757; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 5px; }
    </style>
</head>
<body>

<div class="tabs">
    <button class="tab-btn active" onclick="openTab(event, 'tab1')">Контент</button>
    <button class="tab-btn" onclick="openTab(event, 'tab2')">Визуал</button>
    <button class="tab-btn" onclick="openTab(event, 'tab3')">Аудио</button>
</div>

<div class="scroll-container">
    <div id="tab1" class="tab-content active">
        <label>Заголовок</label><input type="text" id="title" value="MY QUEST">
        <label>Вопросы (JSON)</label>
        <textarea id="questions">[{"q": "2+2?", "a": ["4", "5", "3"], "correct": 0}]</textarea>
        <label>Жизни</label><input type="number" id="lives" value="5">
    </div>
    <div id="tab2" class="tab-content">
        <label>URL Лягушки</label><input type="text" id="imgFrog" value="1.png">
        <label>Цвет шапки</label><input type="color" id="colorH" value="#6ab04c">
    </div>
    <div id="tab3" class="tab-content">
        <label>Фоновый звук (URL)</label><input type="text" id="sndBg" value="7.mp3">
    </div>
</div>

<div id="output-area">
    <div style="font-size: 11px; font-weight: bold;">СКОПИРУЙТЕ ЭТОТ КОД:</div>
    <textarea id="resultCode" readonly></textarea>
    <button class="copy-btn" onclick="generateCode()">✨ СГЕНЕРИРОВАТЬ КОД ИГРЫ</button>
</div>

<script>
function openTab(e, n) {
    let c = document.getElementsByClassName("tab-content");
    for (let i=0; i<c.length; i++) c[i].classList.remove("active");
    document.getElementById(n).classList.add("active");
}

function generateCode() {
    const s = {
        title: document.getElementById('title').value,
        questions: JSON.parse(document.getElementById('questions').value),
        lives: document.getElementById('lives').value,
        images: { frog: document.getElementById('imgFrog').value },
        colors: { h: document.getElementById('colorH').value },
        audio: { bg: document.getElementById('sndBg').value }
    };

    // Генерируем финальный скрипт для вставки
    const baseLink = "https://vivanova288-boop.github.io/Froggy_Jumps/index.html";
    const finalCode = `<iframe id="frogGame" src="${baseLink}" style="width:100%; height:500px; border:none;"></iframe>\n<script>\nsetTimeout(() => {\n  const win = document.getElementById('frogGame').contentWindow;\n  win.postMessage({type:'config', settings:${JSON.stringify(s)}}, '*');\n}, 2000);\n<\/script>`;
    
    document.getElementById('resultCode').value = finalCode;
}
</script>
</body>
</html>
