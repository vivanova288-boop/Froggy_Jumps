<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Froggy Editor</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; color: #2d3436; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { color: #6ab04c; text-align: center; margin-top: 0; }
        label { display: block; margin: 12px 0 5px; font-weight: bold; font-size: 14px; }
        input, select, textarea { width: 100%; padding: 10px; border: 2px solid #eee; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        textarea { height: 120px; font-family: monospace; resize: vertical; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .btn-gen { background: #ff4757; color: white; border: none; padding: 15px; border-radius: 10px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        .btn-gen:hover { background: #ff6b81; transform: translateY(-2px); }
        #resCode { margin-top: 15px; height: 80px; display: none; background: #2d3436; color: #00d8d6; padding: 10px; font-size: 11px; }
        .copy-hint { color: #666; font-size: 12px; text-align: center; margin-top: 10px; display: none; }
    </style>
</head>
<body>
<div class="container">
    <h2>üê∏ –ù–ê–°–¢–†–û–ô–ö–ê –ö–í–ï–°–¢–ê</h2>
    
    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫ (Header)</label>
    <input type="text" id="title" value="PAST SIMPLE CHALLENGE">

    <label>–í–æ–ø—Ä–æ—Å—ã (–§–æ—Ä–º–∞—Ç: –í–æ–ø—Ä–æ—Å | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π | –õ–æ–∂–Ω—ã–π | –õ–æ–∂–Ω—ã–π)</label>
    <textarea id="q_text">Yesterday I ___ my room. | cleaned | clean | cleans
They ___ at the cinema. | were | was | are
She ___ TV last night. | watched | watch | watches</textarea>

    <div class="grid">
        <div><label>–£—Ä–æ–≤–Ω–µ–π</label><input type="number" id="lvls" value="3"></div>
        <div><label>–í–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å</label><input type="number" id="qpl" value="6"></div>
    </div>

    <div class="grid">
        <div><label>–ñ–∏–∑–Ω–∏</label><input type="number" id="li" value="5"></div>
        <div><label>–ì—Ä–æ–º–∫–æ—Å—Ç—å (0.1 - 1.0)</label><input type="number" id="vol" step="0.1" value="0.5"></div>
    </div>

    <label>–ó–≤—É–∫–∏ (–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ GitHub)</label>
    <div class="grid" style="font-size: 11px;">
        <input type="text" id="s1" value="6.mp3" placeholder="–£—Ä–æ–≤–µ–Ω—å">
        <input type="text" id="s2" value="5.mp3" placeholder="–°—Ç–∞—Ä—Ç">
        <input type="text" id="s3" value="1.mp3" placeholder="–í—Å–ø–ª–µ—Å–∫">
        <input type="text" id="s4" value="2.mp3" placeholder="–®–æ–∫">
        <input type="text" id="s5" value="3.mp3" placeholder="–ü–æ–±–µ–¥–∞">
        <input type="text" id="s6" value="4.mp3" placeholder="–°–º–µ—Ä—Ç—å">
        <input type="text" id="s7" value="7.mp3" placeholder="–û—Ç—Å—á–µ—Ç">
    </div>

    <button class="btn-gen" onclick="generate()">–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ö–û–î –î–õ–Ø GENIALLY</button>
    <textarea id="resCode" readonly></textarea>
    <div id="hint" class="copy-hint">–ù–∞–∂–º–∏ Ctrl+A –∏ Ctrl+C, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥</div>
</div>

<script>
function generate() {
    const lines = document.getElementById('q_text').value.split('\n').filter(l => l.includes('|'));
    const qs = lines.map(line => {
        const p = line.split('|').map(x => x.trim());
        return { q: p[0], options: [p[1], p[2], p[3]], correct: 0 };
    });
    const cfg = {
        title: document.getElementById('title').value,
        questions: qs,
        lvls: document.getElementById('lvls').value,
        qpl: document.getElementById('qpl').value,
        lives: document.getElementById('li').value,
        snd: { v: document.getElementById('vol').value, s1: document.getElementById('s1').value, s2: document.getElementById('s2').value, s3: document.getElementById('s3').value, s4: document.getElementById('s4').value, s5: document.getElementById('s5').value, s6: document.getElementById('s6').value, s7: document.getElementById('s7').value }
    };
    // –ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ô URL –ü–û–°–õ–ï –ü–£–ë–õ–ò–ö–ê–¶–ò–ò
    const gameUrl = window.location.href.replace('editor.html', 'index.html');
    const code = `<iframe id="frg" src="${gameUrl}" style="width:100%;height:600px;border:none;" allow="autoplay"></iframe>\n<script>\nwindow.addEventListener('message', function(e){ if(e.data==='ready'){ document.getElementById('frg').contentWindow.postMessage(${JSON.stringify(cfg)},'*'); } });\n<\/script>`;
    
    document.getElementById('resCode').value = code;
    document.getElementById('resCode').style.display = 'block';
    document.getElementById('hint').style.display = 'block';
}
</script>
</body>
</html>
