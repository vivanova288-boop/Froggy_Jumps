<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: sans-serif; background: #f0f2f5; margin: 0; padding: 5px; font-size: 11px; }
        .card { background: white; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); max-width: 500px; margin: auto; border: 1px solid #ddd; }
        .tabs { display: flex; background: #f8f9fa; border-bottom: 2px solid #6ab04c; }
        .tab-btn { flex: 1; padding: 10px; border: none; background: none; cursor: pointer; font-weight: bold; font-size: 10px; color: #666; }
        .tab-btn.active { color: white; background: #6ab04c; }
        .content { padding: 10px; height: 200px; overflow-y: auto; }
        .tab-pane { display: none; }
        .tab-pane.active { display: block; }
        label { display: block; margin-bottom: 2px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 5px; border: 1px solid #ccc; border-radius: 4px; margin-bottom: 8px; box-sizing: border-box; font-size: 11px; }
        textarea { height: 100px; font-family: monospace; }
        .footer { background: #2d3436; padding: 10px; border-radius: 0 0 8px 8px; }
        .btn-gen { background: #ff4757; color: white; border: none; padding: 10px; border-radius: 5px; font-weight: bold; cursor: pointer; width: 100%; }
        #resCode { width: 100%; height: 40px; margin-top: 5px; background: #1e272e; color: #00d8d6; border: none; font-size: 9px; padding: 5px; display: none; }
        .btn-copy { background: #00d8d6; color: #1e272e; border: none; padding: 8px; border-radius: 5px; font-weight: bold; cursor: pointer; margin-top: 5px; width: 100%; display: none; }
    </style>
</head>
<body>
<div class="card">
    <div class="tabs">
        <button class="tab-btn active" onclick="tab(event,'t1')">ВОПРОСЫ</button>
        <button class="tab-btn" onclick="tab(event,'t2')">ОПЦИИ</button>
    </div>
    <div class="content">
        <div id="t1" class="tab-pane active">
            <label>Вопрос | Верный | Ложный 1 | Ложный 2</label>
            <textarea id="q_text">2+2? | 4 | 5 | 1
Cat? | Кошка | Собака | Мышь</textarea>
        </div>
        <div id="t2" class="tab-pane">
            <label>Заголовок</label><input type="text" id="title" value="FROGGY QUEST">
            <label>Цвет шапки</label><input type="color" id="clr" value="#6ab04c">
            <label>Время (сек)</label><input type="number" id="tm" value="15">
            <label>Жизни</label><input type="number" id="li" value="5">
        </div>
    </div>
    <div class="footer">
        <button class="btn-gen" onclick="generate()">СГЕНЕРИРОВАТЬ</button>
        <textarea id="resCode" readonly></textarea>
        <button id="copyBtn" class="btn-copy" onclick="copyCode()">КОПИРОВАТЬ КОД</button>
    </div>
</div>
<script>
function tab(e, id) {
    document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    e.currentTarget.classList.add('active');
}
function generate() {
    const lines = document.getElementById('q_text').value.split('\n').filter(l => l.includes('|'));
    const qs = lines.map(line => {
        const p = line.split('|').map(x => x.trim());
        return { q: p[0], a: p.slice(1), c: 0 };
    });
    const config = {
        title: document.getElementById('title').value,
        questions: qs,
        time: document.getElementById('tm').value,
        color: document.getElementById('clr').value,
        lives: document.getElementById('li').value
    };
    const url = "https://vivanova288-boop.github.io/Froggy_Jumps/index.html";
    const code = `<iframe id="frg" src="${url}" style="width:100%;height:600px;border:none;"></iframe>\n<script>\nwindow.addEventListener('message', function(e){ if(e.data==='ready'){ document.getElementById('frg').contentWindow.postMessage(${JSON.stringify(config)},'*'); } });\n<\/script>`;
    document.getElementById('resCode').value = code;
    document.getElementById('resCode').style.display = 'block';
    document.getElementById('copyBtn').style.display = 'block';
}
function copyCode() {
    document.getElementById('resCode').select();
    document.execCommand('copy');
    alert('Код скопирован!');
}
</script>
</body>
</html>
