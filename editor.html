<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f0f2f5; margin: 0; padding: 10px; color: #333; }
        .tabs { display: flex; flex-wrap: wrap; gap: 4px; sticky: top; background: #f0f2f5; padding-bottom: 10px; border-bottom: 2px solid #6ab04c; }
        .tab-btn { padding: 6px 12px; border: none; background: #ddd; cursor: pointer; border-radius: 5px; font-size: 12px; font-weight: bold; }
        .tab-btn.active { background: #6ab04c; color: white; }
        .content-area { background: white; padding: 15px; border-radius: 0 0 10px 10px; height: 280px; overflow-y: auto; box-shadow: inset 0 0 5px rgba(0,0,0,0.1); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        section { margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        label { display: block; margin: 8px 0 4px; font-size: 12px; font-weight: bold; color: #555; }
        input[type="text"], input[type="number"], textarea, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .save-btn { width: 100%; padding: 12px; background: #2f3542; color: white; border: none; border-radius: 8px; margin-top: 10px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .save-btn:hover { background: #6ab04c; }
    </style>
</head>
<body>

<div class="tabs">
    <button class="tab-btn active" onclick="openTab(event, 'tab1')">üìù –ö–æ–Ω—Ç–µ–Ω—Ç</button>
    <button class="tab-btn" onclick="openTab(event, 'tab2')">üïπÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∞</button>
    <button class="tab-btn" onclick="openTab(event, 'tab3')">üé® –í–∏–∑—É–∞–ª</button>
    <button class="tab-btn" onclick="openTab(event, 'tab4')">üîä –ê—É–¥–∏–æ</button>
    <button class="tab-btn" onclick="openTab(event, 'tab5')">üèÅ –§–∏–Ω–∞–ª/–Ø–∑—ã–∫</button>
</div>

<div class="content-area">
    <div id="tab1" class="tab-content active">
        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã</label>
        <input type="text" id="title" value="FROGGY QUEST">
        <label>–í–æ–ø—Ä–æ—Å—ã (JSON)</label>
        <textarea id="questions" style="height: 100px;">[{"q": "I ___ to the park.", "a": ["went", "go", "gone"], "correct": 0, "level": 1}]</textarea>
        <div class="grid">
            <div><label>–£—Ä–æ–≤–Ω–µ–π</label><input type="number" id="levels" value="1"></div>
            <div><label>–í–æ–ø—Ä–æ—Å–æ–≤ –≤ —É—Ä–æ–≤–Ω–µ</label><input type="number" id="qPerLevel" value="5"></div>
        </div>
        <label><input type="checkbox" id="shuffle" checked> –ü–µ—Ä–µ–º–µ—à–∏–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã</label>
    </div>

    <div id="tab2" class="tab-content">
        <div class="grid">
            <div><label>–ñ–∏–∑–Ω–µ–π</label><input type="number" id="lives" value="5"></div>
            <div><label>–¢–∞–π–º–µ—Ä (—Å–µ–∫)</label><input type="number" id="timer" value="15"></div>
        </div>
        <label>–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏</label>
        <select id="animSpeed"><option value="normal">–û–±—ã—á–Ω–∞—è</option><option value="fast">–ë—ã—Å—Ç—Ä–∞—è</option></select>
        <label><input type="checkbox" id="timerOn" checked> –í–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä</label>
    </div>

    <div id="tab3" class="tab-content">
        <label>–§–æ–Ω –∏–≥—Ä—ã (URL)</label><input type="text" id="imgBg" value="bg.png">
        <label>–õ—è–≥—É—à–∫–∞ (URL)</label><input type="text" id="imgFrog" value="1.png">
        <label>–ò–∫–æ–Ω–∫–∞ –∂–∏–∑–Ω–∏ (URL)</label><input type="text" id="imgHeart" value="3.png">
        <div class="grid">
            <div><label>–¶–≤–µ—Ç —à–∞–ø–∫–∏</label><input type="color" id="colorH" value="#6ab04c"></div>
            <div><label>–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</label><input type="number" id="fSize" value="22"></div>
        </div>
    </div>

    <div id="tab4" class="tab-content">
        <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</label>
        <input type="range" id="vol" min="0" max="1" step="0.1" value="0.5">
        <label>–§–æ–Ω–æ–≤—ã–π –∑–≤—É–∫ (URL)</label><input type="text" id="sndBg" value="7.mp3">
        <label><input type="checkbox" id="soundOn" checked> –í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫–∏</label>
        <p style="font-size: 10px; color: #888;">–ó–≤—É–∫–∏ —Å—Ç–∞—Ä—Ç–∞, –≤–µ—Ä–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∏ –æ—à–∏–±–æ–∫ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
    </div>

    <div id="tab5" class="tab-content">
        <label>–¢–µ–∫—Å—Ç –ø–æ–±–µ–¥—ã</label><input type="text" id="tWin" value="–ü–û–ë–ï–î–ê!">
        <label>–¢–µ–∫—Å—Ç –ø—Ä–æ–∏–≥—Ä—ã—à–∞</label><input type="text" id="tLose" value="–ü–û–ü–†–û–ë–£–ô –°–ù–û–í–ê">
        <label>–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</label>
        <select id="lang"><option value="ru">–†—É—Å—Å–∫–∏–π</option><option value="en">English</option></select>
        <label><input type="checkbox" id="retryBtn" checked> –ö–Ω–æ–ø–∫–∞ ¬´–°–Ω–æ–≤–∞¬ª</label>
    </div>
</div>

<button class="save-btn" onclick="send()">üöÄ –û–ë–ù–û–í–ò–¢–¨ –ò–ì–†–£ –í GENIALLY</button>

<script>
function openTab(evt, tabName) {
    let contents = document.getElementsByClassName("tab-content");
    for (let i = 0; i < contents.length; i++) contents[i].classList.remove("active");
    let btns = document.getElementsByClassName("tab-btn");
    for (let i = 0; i < btns.length; i++) btns[i].classList.remove("active");
    document.getElementById(tabName).classList.add("active");
    evt.currentTarget.classList.add("active");
}

function send() {
    try {
        const s = {
            title: document.getElementById('title').value,
            questions: JSON.parse(document.getElementById('questions').value),
            levels: document.getElementById('levels').value,
            qPerLevel: document.getElementById('qPerLevel').value,
            shuffle: document.getElementById('shuffle').checked,
            lives: document.getElementById('lives').value,
            timer: document.getElementById('timer').value,
            timerOn: document.getElementById('timerOn').checked,
            anim: document.getElementById('animSpeed').value,
            images: { bg: document.getElementById('imgBg').value, frog: document.getElementById('imgFrog').value, heart: document.getElementById('imgHeart').value },
            colors: { h: document.getElementById('colorH').value },
            fontSize: document.getElementById('fSize').value,
            audio: { on: document.getElementById('soundOn').checked, vol: document.getElementById('vol').value, bg: document.getElementById('sndBg').value },
            final: { win: document.getElementById('tWin').value, lose: document.getElementById('tLose').value, retry: document.getElementById('retryBtn').checked },
            lang: document.getElementById('lang').value
        };
        window.parent.postMessage({ type: 'config', settings: s }, '*');
        const b = document.querySelector('.save-btn');
        b.innerText = "–û–ë–ù–û–í–õ–ï–ù–û! ‚úÖ";
        setTimeout(() => b.innerText = "üöÄ –û–ë–ù–û–í–ò–¢–¨ –ò–ì–†–£ –í GENIALLY", 1000);
    } catch(e) { alert("–û—à–∏–±–∫–∞ –≤ JSON! –ü—Ä–æ–≤–µ—Ä—å –≤–æ–ø—Ä–æ—Å—ã."); }
}
</script>
</body>
</html>
