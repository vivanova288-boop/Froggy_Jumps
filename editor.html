<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; margin: 0; padding: 10px; }
        .tabs { display: flex; gap: 5px; margin-bottom: 10px; border-bottom: 2px solid #ddd; }
        .tab-btn { padding: 8px 15px; border: none; background: #eee; cursor: pointer; border-radius: 8px 8px 0 0; font-weight: bold; color: #666; }
        .tab-btn.active { background: #6ab04c; color: white; }
        .tab-content { display: none; background: white; padding: 15px; border-radius: 0 0 10px 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .tab-content.active { display: block; }
        label { display: block; margin: 10px 0 5px; font-weight: bold; font-size: 13px; }
        input, textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        textarea { height: 80px; font-family: monospace; font-size: 11px; }
        .save-btn { width: 100%; padding: 12px; background: #6ab04c; color: white; border: none; border-radius: 8px; margin-top: 15px; font-weight: bold; cursor: pointer; }
        .save-btn:hover { background: #58943f; }
    </style>
</head>
<body>

<div class="tabs">
    <button class="tab-btn active" onclick="openTab(event, 'tab1')">–ö–æ–Ω—Ç–µ–Ω—Ç</button>
    <button class="tab-btn" onclick="openTab(event, 'tab2')">–ú–µ—Ö–∞–Ω–∏–∫–∞</button>
    <button class="tab-btn" onclick="openTab(event, 'tab3')">–í–∏–∑—É–∞–ª</button>
</div>

<div id="tab1" class="tab-content active">
    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏–≥—Ä—ã</label>
    <input type="text" id="title" value="PAST SIMPLE CHALLENGE">
    <label>–í–æ–ø—Ä–æ—Å—ã (JSON)</label>
    <textarea id="questions">[{"q": "I ___ to the park.", "a": ["went", "go", "gone"], "correct": 0}]</textarea>
</div>

<div id="tab2" class="tab-content">
    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–µ–π</label>
    <input type="number" id="lives" value="5">
    <label>–í—Ä–µ–º—è –Ω–∞ –≤–æ–ø—Ä–æ—Å (—Å–µ–∫)</label>
    <input type="number" id="timer" value="15">
    <label><input type="checkbox" id="timerOn" checked> –í–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º–µ—Ä</label>
</div>

<div id="tab3" class="tab-content">
    <label>URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ª—è–≥—É—à–∫–∏</label>
    <input type="text" id="imgFrog" value="1.png">
    <label>–¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ (HEX)</label>
    <input type="color" id="colorH" value="#6ab04c" style="height:40px;">
</div>

<button class="save-btn" onclick="save()">üöÄ –û–ë–ù–û–í–ò–¢–¨ –ò–ì–†–£</button>

<script>
function openTab(evt, tabName) {
    let contents = document.getElementsByClassName("tab-content");
    for (let i = 0; i < contents.length; i++) contents[i].style.display = "none";
    let btns = document.getElementsByClassName("tab-btn");
    for (let i = 0; i < btns.length; i++) btns[i].className = btns[i].className.replace(" active", "");
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

function save() {
    try {
        const config = {
            title: document.getElementById('title').value,
            questions: JSON.parse(document.getElementById('questions').value),
            lives: document.getElementById('lives').value,
            timer: document.getElementById('timer').value,
            timerOn: document.getElementById('timerOn').checked,
            images: { frog: document.getElementById('imgFrog').value, bg: 'bg.png', heart: '3.png' },
            colors: { h: document.getElementById('colorH').value, t: '#ff4757' },
            audio: { on: true, vol: 0.5, bg: '7.mp3', sndCorrect: '1.mp3', sndError: '2.mp3' },
            fontSize: 22,
            final: { win: "–ü–æ–±–µ–¥–∞!", lose: "–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑!", retry: true }
        };
        window.parent.postMessage({ type: 'config', settings: config }, '*');
    } catch(e) { alert("–û—à–∏–±–∫–∞ –≤ JSON –≤–æ–ø—Ä–æ—Å–æ–≤!"); }
}
</script>
</body>
</html>
